#include "stdafx.h"

#include <sstream>
#include "../helpful/DcDialogHelper.h"
#include "TC_TrainUIC.h"
#include "../Fund/TrainUIC/Atn_Tool.h"
#include "../Fund/TrainUIC/EbiLock_ObjMap.h"

CPPUNIT_TEST_SUITE_REGISTRATION( TC_TrainUIC );

void TC_TrainUIC::ToolFromAtn()
{
    // парное преобразование
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  1SP", "NJ  NB1C" ).first  == B("1SP[11063]") );
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  1SP", "NJ  NB1C" ).second == B("NB1C[11062:11063]") );
    // штучное преобразование с тем же самым результатом
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  1SP" )  == B("1SP[11063]") );
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  NB1C" ) == B("NB1C[11062:11063]") );
    // парное преобразование безрезультатное
    CPPUNIT_ASSERT( tool.convertFromAtn("ND 1AC", "ND 1UP" ).first.empty() );	// нет такого в описании
    CPPUNIT_ASSERT( tool.convertFromAtn("ND 1AC", "ND 1UP" ).second.empty() );	// нет такого в описании
    // штучное преобразование безрезультатное
    CPPUNIT_ASSERT( tool.convertFromAtn("ND 1AC" ).empty() );
    CPPUNIT_ASSERT( tool.convertFromAtn("ND 1UP" ).empty() );
	// новая пара - TS 1C есть в эби но запрещён к приёму в atn
	CPPUNIT_ASSERT( tool.convertFromAtn("V2  1C" ).empty() );
	// парные переходы с запретом приёма сообщений
	CPPUNIT_ASSERT( tool.convertFromAtn("V2  3SP", "V2  1SP" ).first.empty() );
	CPPUNIT_ASSERT( tool.convertFromAtn("V2  3SP", "V2  1SP" ).second.empty() );
    // парный переход, однозначный только из Atn
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  xx1", "NJ  yy" ).first  == B("xx[11063]") );
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  xx1", "NJ  yy" ).second == B("yy[11063]") );
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  xx2", "NJ  yy" ).first  == B("xx[11063]") );
    CPPUNIT_ASSERT( tool.convertFromAtn( "NJ  xx2", "NJ  yy" ).second == B("yy[11063]") );
}

void TC_TrainUIC::ToolToAtn()
{
	std::string prefix = "";
    // парные переходы
    CPPUNIT_ASSERT( tool.factToAtn( B("1SP[11063]"), B("NB1C[11062:11063]"), &prefix ).first =="NJ  1SP" );
    CPPUNIT_ASSERT( tool.factToAtn( B("1SP[11063]"), B("NB1C[11062:11063]"), &prefix ).second=="NJ  NB1C" );
    CPPUNIT_ASSERT( tool.factToAtn( B("1AC[11041]"), B("1UP[11041]"), &prefix ).first.empty() );
    CPPUNIT_ASSERT( tool.factToAtn( B("1AC[11041]"), B("1UP[11041]"), &prefix ).second.empty() );
    // фактическое движение - достаточно конвертируемости конечной точки
    CPPUNIT_ASSERT( tool.factToAtn( B("xxx[11420]"), B("4C[11420]"), &prefix ).first.empty() );
    CPPUNIT_ASSERT( tool.factToAtn( B("xxx[11420]"), B("4C[11420]"), &prefix ).second == "DG  KR_4C" ); // два пробела!
    // предварительное движение - обе точки должны быть конвертируемы
    CPPUNIT_ASSERT( tool.predToAtn( B("xxx[11420]"), B("4C[11420]"), &prefix ).first.empty() );
    CPPUNIT_ASSERT( tool.predToAtn( B("xxx[11420]"), B("4C[11420]"), &prefix ).second.empty() );
	// парные переходы с запретом отправки сообщений
	CPPUNIT_ASSERT( tool.factToAtn(B("3SP[09813]"), B("1SP[09813]"), &prefix ).first.empty() );
	CPPUNIT_ASSERT( tool.factToAtn(B("3SP[09813]"), B("1SP[09813]"), &prefix ).second.empty() );
    // парный переход, однозначный только в сторону Atn
    CPPUNIT_ASSERT_EQUAL( tool.factToAtn( B("3SP[11063]"), B("1SP[11063]"), &prefix ).first,  std::string("NJ  FIRST") );
    CPPUNIT_ASSERT_EQUAL( tool.factToAtn( B("3SP[11063]"), B("1SP[11063]"), &prefix ).second, std::string("NJ  1SP") );
    CPPUNIT_ASSERT_EQUAL( tool.factToAtn( B("KRA[11063]"), B("1SP[11063]"), &prefix ).first,  std::string("NJ  FIRST") );
    CPPUNIT_ASSERT_EQUAL( tool.factToAtn( B("KRA[11063]"), B("1SP[11063]"), &prefix ).second, std::string("NJ  1SP") );
}

void TC_TrainUIC::ToolServant()
{
    // обнаружение служебных "номеров поездов"
    CPPUNIT_ASSERT( tool.isServantNumber( L"AN0067") );
    CPPUNIT_ASSERT( tool.isServantNumber( L"SD040") );
    CPPUNIT_ASSERT( tool.isServantNumber( L"i57") );
    CPPUNIT_ASSERT( tool.isServantNumber( L"I6001") );
    CPPUNIT_ASSERT( !tool.isServantNumber( L"J2225") );
    CPPUNIT_ASSERT( !tool.isServantNumber( L"") );
}

void TC_TrainUIC::ToolTruncateNumber()
{
    CPPUNIT_ASSERT( tool.TruncateNumber( L"V2225") == L"2225" );
    CPPUNIT_ASSERT( tool.TruncateNumber( L"6001") == L"6001" );
    CPPUNIT_ASSERT( tool.TruncateNumber( L"57") == L"57" );
}

void TC_TrainUIC::DialogFromAtn()
{
    attic::a_document dia_doc;
    CPPUNIT_ASSERT( dia_doc.load_wide(
        L"<!-- Описание увязки объектов KIGAS - Dialog -->"
        L"<forATN>"
        L"  <!-- Регион Чиекуркалнс-Иерики -->"
        L"  <system name='Dialog' region='09580:11130' >"
        L"    <!--        ESRX=086209 Валга -->"
        L"    <element kig='1C(08620)' atn='КП1' esrx='086209' gr='3' k='1'/>"
        L"    <element kig='2C(08620)' atn='КП2' esrx='086209' gr='3' k='2'/>"
        L"    <!--          ESRX=110817 Лугажи  -->"
        L"    <element kig='SL13(11081:11082)' atn='КПУ1Ч' esrx='110817' gr='5' k='1'/>"
        L"    <element kig='SL14(11081:11082)' atn='КПУ2Ч' esrx='110817' gr='4' k='2'/>"
        L"  </system>"
        L"</forATN>"
        ));

    TrainUIC::Tool dia_tool;
    CPPUNIT_ASSERT( dia_tool.load_node( dia_doc.child("forATN").child("system"), funcLE ) );
    CPPUNIT_ASSERT( dia_tool.getSystem() == "Dialog" );
    CPPUNIT_ASSERT( dia_tool.getRegion() == EsrKit(9580,11130) );
    CPPUNIT_ASSERT( dia_tool.getChannelKey().empty() );
    dia_tool.setChannelKey(L"xyz");
    CPPUNIT_ASSERT( dia_tool.getChannelKey() == L"xyz" );

    BadgeE src = BadgeE( L"2C", EsrKit(8620) );
    BadgeE trg = BadgeE( L"SL13", EsrKit(11081,11082) );

    std::string atnS, atnT, pfx;
    std::tie( atnS, atnT ) = dia_tool.factToAtn( src, trg, &pfx );
    std::string nS = std::to_string( DcDialogR::calcUsedSignal( 86209,3,2) ); // ... esrx='086209' gr='3' k='2'/>"
    std::string nT = std::to_string( DcDialogR::calcUsedSignal(110817,5,1) ); // ... esrx='110817' gr='5' k='1'/>"
    CPPUNIT_ASSERT( DcDialogR::packUS_OT( nS, 2 ) == atnS );
    CPPUNIT_ASSERT( DcDialogR::packUS_OT( nT, 3 ) == atnT );
}

//
// Общая часть
//
BadgeE TC_TrainUIC::B(const std::string& text)
{
    attic::a_document doc;
    doc.set_document_element("xx");
    auto a = doc.document_element().append_attribute("aa");
    a.set_value(text);
    BadgeE res(a);
	CPPUNIT_ASSERT( !res.empty() );
	return res;
}


void TC_TrainUIC::setUp()
{
    funcLE.existAny   = [](const BadgeE& /*bdg*/){ return true; };
    funcLE.isStrip    = [](const BadgeE& /*bdg*/){ return true; };
    funcLE.dialogType = [](const BadgeE& bdg ) {
        int res = 0;
        for( std::string s = bdg.str_u8(); !s.empty() && !res; s.pop_back() ) {
            switch( s.back() ) {
            case '1': res = 1; break;
            case '2': res = 2; break;
            case '3': res = 3; break;
            case '4': res = 4; break;
            default:
                break;
            }
        }
        CPPUNIT_ASSERT( res );
        return res;
    };

    attic::a_document atn_doc;
    attic::a_document ebi_doc;
    atn_doc.reset();
    attic::a_parse_result atn_res = atn_doc.load_wide(
        L"<?xml version='1.0' encoding='UTF-8'?>"
        L"<!-- Предлагаемое описание увязки объектов Арамис - Rdc -->"
        L"<forATN>"
        L"<system name='Thales' ip='192.168.1.5/7083'>"
        L"<!--соседние элементы (неоднозначное соответствие, описываем только переход стыка) -->"
		L"<element kig='1C(09813)' atn='V2 1C' prefix='V' in='no' />"	// используется
		L"<element from='3SP(09813)' to='1SP(09813)' source='V2 3SP' dest='V2 1SP' prefix='V' in='no' out='no' />"		// 1SP(11063) используется
        L"<element kig='DK11C(09190:11420)' atn='DG DK11C' prefix='J' />"
        L"<element kig='PJP(11420)' atn='DG CEP' prefix='J' />"
        L"<element kig='1C(11420)' atn='DG KR_1C' prefix='J' inDel='no'/>"
        L"<element kig='2C(11420)' atn='DG KR_2C' prefix='J' />"
        L"<element kig='3C(11420)' atn='DG KR_3C' prefix='J' />"
        L"<element kig='4C(11420)' atn='DG KR_4C' prefix='J' />"	// 4C(11420) используется
        L"<element kig='5C(11420)' atn='DG KR_5C' prefix='J' />"
        L"<element kig='6C(11420)' atn='DG KR_6C' prefix='J' />"
        L"<element kig='7C(11420)' atn='DG KR_7C' prefix='J' />"
        L"<element kig='8C(11420)' atn='DG KR_8C' prefix='J' />"
        L"<element kig='9C(11420)' atn='DG KR_9C' prefix='J' />"
        L"<element kig='10CA(11420)' atn='DG KR_10C' prefix='J' />"
        L"<element kig='11C(11420)' atn='DG KR_11C' prefix='J' />"
        L"<element kig='12C(11420)' atn='DG KR_12C' prefix='J' />"
        L"<element kig='13C(11420)' atn='DG KR_13C' prefix='J' />"
        L"<element kig='14C(11420)' atn='DG KR_14C' prefix='J' />"
        L"<element from='3SP(11063)' to='1SP(11063)'        in='n' source='NJ FIRST' dest='NJ 1SP' prefix='D' />"		// 1SP(11063) используется
        L"<element from='KRA(11063)' to='1SP(11063)'        in='n' source='NJ FIRST' dest='NJ 1SP' prefix='D' />"		// 1SP(11063) используется
        L"<element from='1SP(11063)' to='NB1C(11062:11063)' source='NJ 1SP' dest='NJ NB1C' prefix='V' />"	// 1SP(11063) используется, NB1C(11062:11063) используется
        L"<element from='xx(11063)' to='yy(11063)' out='n' source='NJ xx1' dest='NJ yy' prefix='V' />"
        L"<element from='xx(11063)' to='yy(11063)' out='n' source='NJ xx2' dest='NJ yy' prefix='V' />"
        L"<element kig='NSP(09820)' atn='V2 NSP' prefix='V' />"
        L"<element kig='NV2SP(09820)' atn='V2 NV2SP' prefix='V' />"
        L"<element kig='PMN1IP(09813:09827)' atn='V2 PMN1IP' prefix='V' />"
        L"<element kig='PV1IP(09813:09820)' atn='V2 PV1IP' prefix='V' />"
        L"<element kig='PMNDP(09813)' atn='V2 PMNDP' prefix='V' />"
        L"<element kig='PVDP(09813)' atn='V2 PVDP' prefix='V' />"
        L"<element kig='PSP#(09736)' atn='T2 T1_PSP' prefix='T' />"
        L"<element kig='1C(09180)' atn='LB J1_1C' prefix='V' />"
        L"<element kig='2C(09180)' atn='LB J1_2C' prefix='V' />"
        L"<element kig='3C(09180)' atn='LB J1_3C' prefix='V' />"
        L"<element kig='4C(09180)' atn='LB J1_4C' prefix='V' />"
        L"<element kig='5C(09180)' atn='LB J1_5C' prefix='V' />"
        L"<element kig='6C(09180)' atn='LB J1_6C' prefix='V' />"
        L"<element kig='7C(09180)' atn='LB J1_7C' prefix='V' />"
        L"<element kig='8C(09180)' atn='LB J1_8C' prefix='V' />"
        L"<element kig='9C(09180)' atn='LB J1_9C' prefix='V' />"
        L"<element kig='10C(09180)' atn='LB J1_10C' prefix='V' />"
        L"<element kig='11C(09180)' atn='LB J1_11C' prefix='V' />"
        L"<element kig='12C(09180)' atn='LB J1_12C' prefix='V' />"
        L"<element kig='13C(09180)' atn='LB J1_13C' prefix='V' />"
        L"<element kig='14C(09180)' atn='LB J1_14C' prefix='V' />"
        L"<element kig='15C(09180)' atn='LB J1_15C' prefix='V' />"
        L"<element kig='16C(09180)' atn='LB J1_16C' prefix='V' />"
        L"<element kig='17C(09180)' atn='LB J1_17C' prefix='V' />"
        L"<element kig='PTP(09180)' atn='LB J1_PTDP' prefix='V' />"
        L"<element kig='LJ22C(09180:09764)' atn='LB LJ22C' prefix='V' />"
        L"<element kig='4AC(09181)' atn='GR J2_4C' prefix='J' />"
        L"<element kig='3AC(09181)' atn='GR J2_3C' prefix='J' />"
        L"<element kig='NGP(09181)' atn='GR 9SP' prefix='J' />"
        L"<element kig='JG1C(09181:09251)' atn='GR JG1C' prefix='J' />"
        L"</system>"
        L"</forATN>"
        L"<!--End of File-->"
        );
    CPPUNIT_ASSERT( atn_res );
    ebi_doc.reset();
    attic::a_parse_result ebi_res = ebi_doc.load_wide(
        L"<?xml version='1.0' encoding='UTF-8'?>"
        L"<!-- ПредлагаеMое описание увязки объектов Эбилок - Rdc -->"
        L"<Ebiloc_Map coding='Tha'>"
        L"<station name_short='V2' name_long='Ventspils 2' abonent='100'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09813)' />"	// используется
        L"<element type='TR' name='TS 2C' way='2C(09813)' />"
        L"<element type='TR' name='TS 3C' way='3C(09813)' />"
        L"<element type='TR' name='TS 4C' way='4C(09813)' />"
        L"<element type='TR' name='TS PMNDP' way='PMNDP(09813)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09813)' />"
        L"<element type='TR' name='TS 5C' way='5C(09813)' />"
        L"<element type='TR' name='TS PVDP' way='PVDP(09813)' />"
        L"<element type='TR' name='TL EV2C' way='EV2C(09812:09813)' />"
        L"<element type='TR' name='TL EV3C' way='EV3C(09812:09813)' />"
        L"<element type='TR' name='TL EV4C' way='EV4C(09812:09813)' />"
        L"<element type='TR' name='TL EV1C' way='EV1C(09812:09813)' />"
        L"<element type='TR' name='TL PMN1IP' way='PMN1IP(09813:09827)' />"
        L"<element type='TR' name='TL NV2SP' way='NV2SP(09820)' />"
        L"<element type='TR' name='TL PV1IP' way='PV1IP(09813:09820)' />"
        L"<element type='TR' name='TL NSP' way='NSP(09820)' />"
        L"<element type='TR' name='TL V1_1NC' way='1NC(09820)' />"
        L"<element type='TR' name='TL V1_2NC' way='2NC(09820)' />"
        L"<element type='TR' name='TL V1_2GC' way='2GC(09820)' />"
        L"<element type='TR' name='TL V1_3NC' way='3NC(09820)' />"
        L"<element type='TR' name='TL V1_4NC' way='4NC(09820)' />"
        L"<element type='TR' name='TL VA_1MC' way='1MC(09820)' />"
        L"<element type='TR' name='TL VA_4MC' way='4MC(09820)' />"
        L"<element type='TR' name='TL VA_5MC' way='5MC(09820)' />"
        L"<element type='TR' name='TL VA_6MC' way='6MC(09820)' />"
        L"<element type='TR' name='TL VA_7MC' way='7MC(09820)' />"
        L"<element type='TR' name='TL VA_8MC' way='8MC(09820)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09813)' way='1SP(09813)' />"
        L"<element type='PT' name='PT 3' switch='3(09813)' way='3SP(09813)' />"
        L"<element type='PT' name='PT 5' switch='5(09813)' way='5-9SP(09813)' />"
        L"<element type='PT' name='PT 7' switch='7(09813)' way='7SP(09813)' />"
        L"<element type='PT' name='PT 9' switch='9(09813)' way='5-9SP(09813)' />"
        L"<element type='PT' name='PT 2' contrary='PT 10' switch='2(09813)' way='2SP(09813)' />"
        L"<element type='PT' name='PT 4' switch='4(09813)' way='4SP(09813)' />"
        L"<element type='PT' name='PT 6' switch='6(09813)' way='6-8SP(09813)' />"
        L"<element type='PT' name='PT 8' switch='8(09813)' way='6-8SP(09813)' />"
        L"<element type='PT' name='PT 10' contrary='PT 2' switch='10(09813)' way='10SP(09813)' />"
        L"<element type='PT' name='PT 12' switch='12(09813)' way='12-14SP(09813)' />"
        L"<element type='PT' name='PT 14' switch='14(09813)' way='12-14SP(09813)' />"
        L"</station>"
        L"<station name_short='EL' name_long='Elkskene' abonent='101'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09812)' />"
        L"<element type='TR' name='TS 3C' way='3C(09812)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09812)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09812)' />"
        L"<element type='TR' name='TL UE1C' way='UE1C(09810:09812)' />"
        L"<element type='TR' name='TL UE2C' way='UE2C(09810:09812)' />"
        L"<element type='TR' name='TL UE3C' way='UE3C(09810:09812)' />"
        L"<element type='TR' name='TL UE4C' way='UE4C(09810:09812)' />"
        L"<element type='TR' name='TL UE5C' way='UE5C(09810:09812)' />"
        L"<element type='TR' name='TL UE7C' way='UE7C(09810:09812)' />"
        L"<element type='TR' name='TL UE8C' way='UE8C(09810:09812)' />"
        L"<element type='TR' name='TL UE9C' way='UE9C(09810:09812)' />"
        L"<element type='TR' name='TL UE10C' way='UE10C(09810:09812)' />"
        L"<element type='TR' name='TL UE11C' way='UE11C(09810:09812)' />"
        L"<element type='TR' name='TL UE12C' way='UE12C(09810:09812)' />"
        L"<element type='TR' name='TL EV5C' way='EV5C(09812:09813)' />"
        L"<element type='TR' name='TL EV6C' way='EV6C(09812:09813)' />"
        L"<element type='TR' name='TL UE6C' way='UE6C(09810:09812)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09812)' way='1SP(09812)' />"
        L"<element type='PT' name='PT 2' switch='2(09812)' way='2SP(09812)' />"
        L"</station>"
        L"<station name_short='UG' name_long='Ugale' abonent='102'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09810)' />"
        L"<element type='TR' name='TS 2C' way='2C(09810)' />"
        L"<element type='TR' name='TS 4C' way='4C(09810)' />"
        L"<element type='TR' name='TS 3BC' way='3BC(09810)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09810)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09810)' />"
        L"<element type='TR' name='TS 3AC' way='3AC(09810)' />"
        L"<element type='TR' name='TL UU2C' way='UU2C(09803:09810)' />"
        L"<element type='TR' name='TL UU3C' way='UU3C(09803:09810)' />"
        L"<element type='TR' name='TL UE13C' way='UE13C(09810:09812)' />"
        L"<element type='TR' name='TL UE14C' way='UE14C(09810:09812)' />"
        L"<element type='TR' name='TL UU1C' way='UU1C(09803:09810)' />"
        L"<element type='TR' name='TL UU4C' way='UU4C(09803:09810)' />"
        L"<element type='TR' name='TL UE15C' way='UE15C(09810:09812)' />"
        L"<element type='TR' name='TL UE16C' way='UE16C(09810:09812)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09810)' way='1-5SP(09810)' />"
        L"<element type='PT' name='PT 3' switch='3(09810)' way='1-5SP(09810)' />"
        L"<element type='PT' name='PT 5' switch='5(09810)' way='1-5SP(09810)' />"
        L"<element type='PT' name='PT 2' switch='2(09810)' way='2-6SP(09810)' />"
        L"<element type='PT' name='PT 4' switch='4(09810)' way='2-6SP(09810)' />"
        L"<element type='PT' name='PT 6' switch='6(09810)' way='2-6SP(09810)' />"
        L"<element type='PT' name='PT 8' switch='8(09810)' way='8SP(09810)' />"
        L"</station>"
        L"<station name_short='US' name_long='Usma' abonent='103'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09803)' />"
        L"<element type='TR' name='TS 2C' way='2C(09803)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09803)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09803)' />"
        L"<element type='TR' name='TL SU1C' way='SU1C(09802:09803)' />"
        L"<element type='TR' name='TL SU2C' way='SU2C(09802:09803)' />"
        L"<element type='TR' name='TL SU3C' way='SU3C(09802:09803)' />"
        L"<element type='TR' name='TL SU4C' way='SU4C(09802:09803)' />"
        L"<element type='TR' name='TL SU5C' way='SU5C(09802:09803)' />"
        L"<element type='TR' name='TL SU6C' way='SU6C(09802:09803)' />"
        L"<element type='TR' name='TL UU5C' way='UU5C(09803:09810)' />"
        L"<element type='TR' name='TL UU6C' way='UU6C(09803:09810)' />"
        L"<element type='TR' name='TL UU7C' way='UU7C(09803:09810)' />"
        L"<element type='TR' name='TL UU8C' way='UU8C(09803:09810)' />"
        L"<element type='TR' name='TL UU9C' way='UU9C(09803:09810)' />"
        L"<element type='TR' name='TL UU10C' way='UU10C(09803:09810)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09803)' way='1SP(09803)' />"
        L"<element type='PT' name='PT 2' switch='2(09803)' way='2SP(09803)' />"
        L"</station>"
        L"<station name_short='SP' name_long='Spare' abonent='104'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09802)' />"
        L"<element type='TR' name='TS 2C' way='2C(09802)' />"
        L"<element type='TR' name='TS 3C' way='3C(09802)' />"
        L"<element type='TR' name='TS 5BC' way='5BC(09802)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09802)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09802)' />"
        L"<element type='TR' name='TS 5AC' way='5AC(09802)' />"
        L"<element type='TR' name='TL LS2C' way='LS2C(09801:09802)' />"
        L"<element type='TR' name='TL LS3C' way='LS3C(09801:09802)' />"
        L"<element type='TR' name='TL LS4C' way='LS4C(09801:09802)' />"
        L"<element type='TR' name='TL LS5C' way='LS5C(09801:09802)' />"
        L"<element type='TR' name='TL LS1C' way='LS1C(09801:09802)' />"
        L"<element type='TR' name='TL LS6C' way='LS6C(09801:09802)' />"
        L"<element type='TR' name='TL SU7C' way='SU7C(09802:09803)' />"
        L"<element type='TR' name='TL SU8C' way='SU8C(09802:09803)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09802)' way='1-3SP(09802)' />"
        L"<element type='PT' name='PT 3' switch='3(09802)' way='1-3SP(09802)' />"
        L"<element type='PT' name='PT 5' switch='5(09802)' way='5SP(09802)' />"
        L"<element type='PT' name='PT 2' switch='2(09802)' way='2-4SP(09802)' />"
        L"<element type='PT' name='PT 4' switch='4(09802)' way='2-4SP(09802)' />"
        L"<element type='PT' name='PT 6' switch='6(09802)' way='6SP(09802)' />"
        L"<element type='PT' name='PT 8' switch='8(09802)' way='8SP(09802)' />"
        L"<element type='PT' name='PT 10' switch='10(09802)' way='10SP(09802)' />"
        L"</station>"
        L"<station name_short='LC' name_long='Lici' abonent='105'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09801)' />"
        L"<element type='TR' name='TS 2C' way='2C(09801)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09801)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09801)' />"
        L"<element type='TR' name='TL SA1C' way='SA1C(09800:09801)' />"
        L"<element type='TR' name='TL SA2C' way='SA2C(09800:09801)' />"
        L"<element type='TR' name='TL SA3C' way='SA3C(09800:09801)' />"
        L"<element type='TR' name='TL SA4C' way='SA4C(09800:09801)' />"
        L"<element type='TR' name='TL SA6C' way='SA6C(09800:09801)' />"
        L"<element type='TR' name='TL SA5C' way='SA5C(09800:09801)' />"
        L"<element type='TR' name='TL LS7C' way='LS7C(09801:09802)' />"
        L"<element type='TR' name='TL LS8C' way='LS8C(09801:09802)' />"
        L"<element type='TR' name='TL LS9C' way='LS9C(09801:09802)' />"
        L"<element type='TR' name='TL LS10C' way='LS10C(09801:09802)' />"
        L"<element type='TR' name='TL LS11C' way='LS11C(09801:09802)' />"
        L"<element type='TR' name='TL LS12C' way='LS12C(09801:09802)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09801)' way='1SP(09801)' />"
        L"<element type='PT' name='PT 2' switch='2(09801)' way='2SP(09801)' />"
        L"<element type='PT' name='PT 4' switch='4(09801)' way='4SP(09801)' />"
        L"</station>"
        L"<station name_short='ST' name_long='Stende' abonent='106'>"
        L"<!--переезд-->"
        L"<!--участок-->"
        L"<element type='TR' name='TS 3C' way='3C(09800)' />"
        L"<element type='TR' name='TS 4BC' way='4BC(09800)' />"
        L"<element type='TR' name='TS 4AC' way='4AC(09800)' />"
        L"<element type='TR' name='TS 5C' way='5C(09800)' />"
        L"<element type='TR' name='TS 2C' way='2C(09800)' />"
        L"<element type='TR' name='TS 1AC' way='1AC(09800)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09800)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09800)' />"
        L"<element type='TR' name='TS 1BC' way='1BC(09800)' />"
        L"<element type='TR' name='TL SN1C' way='SN1C(09790:09800)' />"
        L"<element type='TR' name='TL SN2C' way='SN2C(09790:09800)' />"
        L"<element type='TR' name='TL SA7C' way='SA7C(09800:09801)' />"
        L"<element type='TR' name='TL SA8C' way='SA8C(09800:09801)' />"
        L"<element type='TR' name='TL SA9C' way='SA9C(09800:09801)' />"
        L"<element type='TR' name='TL SA10C' way='SA10C(09800:09801)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09800)' way='1-3SP(09800)' />"
        L"<element type='PT' name='PT 3' switch='3(09800)' way='1-3SP(09800)' />"
        L"<element type='PT' name='PT 5' switch='5(09800)' way='5SP(09800)' />"
        L"<element type='PT' name='PT 7' switch='7(09800)' way='7-9SP(09800)' />"
        L"<element type='PT' name='PT 9' switch='9(09800)' way='7-9SP(09800)' />"
        L"<element type='PT' name='PT 11' switch='11(09800)' way='11SP(09800)' />"
        L"<element type='PT' name='PT 13' switch='13(09800)' way='13-15SP(09800)' />"
        L"<element type='PT' name='PT 15' switch='15(09800)' way='13-15SP(09800)' />"
        L"<element type='PT' name='PT 23' switch='23(09800)' way='23SP(09800)' />"
        L"<element type='PT' name='PT 25' switch='25(09800)' way='25SP(09800)' />"
        L"<element type='PT' name='PT 2' switch='2(09800)' way='2-6SP(09800)' />"
        L"<element type='PT' name='PT 4' switch='4(09800)' way='4SP(09800)' />"
        L"<element type='PT' name='PT 6' switch='6(09800)' way='2-6SP(09800)' />"
        L"<element type='PT' name='PT 8' switch='8(09800)' way='8SP(09800)' />"
        L"<element type='PT' name='PT 10' switch='10(09800)' way='10SP(09800)' />"
        L"<element type='PT' name='PT 12' switch='12(09800)' way='12SP(09800)' />"
        L"<element type='PT' name='PT 16NA' switch='16NA(09800)' way='16NASP(09800)' />"
        L"<element type='PT' name='PT 17NA' switch='17NA(09800)' way='17NASP(09800)' />"
        L"</station>"
        L"<station name_short='SB' name_long='Sabile' abonent='107'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 2C' way='2C(09790)' />"
        L"<element type='TR' name='TS 1C' way='1C(09790)' />"
        L"<element type='TR' name='TS 3C' way='3C(09790)' />"
        L"<element type='TR' name='TS 4C' way='4C(09790)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09790)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09790)' />"
        L"<element type='TR' name='TL KS2C' way='KS2C(09780:09790)' />"
        L"<element type='TR' name='TL KS3C' way='KS3C(09780:09790)' />"
        L"<element type='TR' name='TL KS4C' way='KS4C(09780:09790)' />"
        L"<element type='TR' name='TL KS5C' way='KS5C(09780:09790)' />"
        L"<element type='TR' name='TL KS1C' way='KS1C(09780:09790)' />"
        L"<element type='TR' name='TL KS6C' way='KS6C(09780:09790)' />"
        L"<element type='TR' name='TL SN3C' way='SN3C(09790:09800)' />"
        L"<element type='TR' name='TL SN4C' way='SN4C(09790:09800)' />"
        L"<element type='TR' name='TL SN5C' way='SN5C(09790:09800)' />"
        L"<element type='TR' name='TL SN6C' way='SN6C(09790:09800)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09790)' way='1-3SP(09790)' />"
        L"<element type='PT' name='PT 3' switch='3(09790)' way='1-3SP(09790)' />"
        L"<element type='PT' name='PT 5' switch='5(09790)' way='5SP(09790)' />"
        L"<element type='PT' name='PT 2' switch='2(09790)' way='2SP(09790)' />"
        L"<element type='PT' name='PT 4' switch='4(09790)' way='4-6SP(09790)' />"
        L"<element type='PT' name='PT 6' switch='6(09790)' way='4-6SP(09790)' />"
        L"<element type='PT' name='PT 8' switch='8(09790)' way='8SP(09790)' />"
        L"<element type='PT' name='PT 10' switch='10(09790)' way='10-12SP(09790)' />"
        L"<element type='PT' name='PT 12NA' switch='12NA(09790)' way='10-12SP(09790)' />"
        L"</station>"
        L"<station name_short='KD' name_long='Kandava' abonent='108'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09780)' />"
        L"<element type='TR' name='TS 2C' way='2C(09780)' />"
        L"<element type='TR' name='TS 3C' way='3C(09780)' />"
        L"<element type='TR' name='TS 5BC' way='5BC(09780)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09780)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09780)' />"
        L"<element type='TR' name='TS 5AC' way='5AC(09780)' />"
        L"<element type='TR' name='TL ZK2C' way='ZK2C(09751:09780)' />"
        L"<element type='TR' name='TL ZK3C' way='ZK3C(09751:09780)' />"
        L"<element type='TR' name='TL ZK4C' way='ZK4C(09751:09780)' />"
        L"<element type='TR' name='TL ZK5C' way='ZK5C(09751:09780)' />"
        L"<element type='TR' name='TL ZK1C' way='ZK1C(09751:09780)' />"
        L"<element type='TR' name='TL ZK6C' way='ZK6C(09751:09780)' />"
        L"<element type='TR' name='TL ZK7C' way='ZK7C(09751:09780)' />"
        L"<element type='TR' name='TL KS7C' way='KS7C(09780:09790)' />"
        L"<element type='TR' name='TL KS8C' way='KS8C(09780:09790)' />"
        L"<element type='TR' name='TL KS9C' way='KS9C(09780:09790)' />"
        L"<element type='TR' name='TL KS10C' way='KS10C(09780:09790)' />"
        L"<element type='TR' name='TL KS11C' way='KS11C(09780:09790)' />"
        L"<element type='TR' name='TL KS12C' way='KS12C(09780:09790)' />"
        L"<element type='TR' name='TL KS13C' way='KS13C(09780:09790)' />"
        L"<element type='TR' name='TL KS14C' way='KS14C(09780:09790)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09780)' way='1-3SP(09780)' />"
        L"<element type='PT' name='PT 3' switch='3(09780)' way='1-3SP(09780)' />"
        L"<element type='PT' name='PT 5' switch='5(09780)' way='5SP(09780)' />"
        L"<element type='PT' name='PT 2' switch='2(09780)' way='2-4SP(09780)' />"
        L"<element type='PT' name='PT 4' switch='4(09780)' way='2-4SP(09780)' />"
        L"<element type='PT' name='PT 6' switch='6(09780)' way='6SP(09780)' />"
        L"<element type='PT' name='PT 8' switch='8(09780)' way='8SP(09780)' />"
        L"<element type='PT' name='PT 10' switch='10(09780)' way='10SP(09780)' />"
        L"<element type='PT' name='PT 12' switch='12(09780)' way='12SP(09780)' />"
        L"</station>"
        L"<station name_short='ZV' name_long='Zvare' abonent='109'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09751)' />"
        L"<element type='TR' name='TS 3C' way='3C(09751)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09751)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09751)' />"
        L"<element type='TR' name='TL TZ1C' way='TZ1C(09750:09751)' />"
        L"<element type='TR' name='TL TZ2C' way='TZ2C(09750:09751)' />"
        L"<element type='TR' name='TL TZ3C' way='TZ3C(09750:09751)' />"
        L"<element type='TR' name='TL TZ4C' way='TZ4C(09750:09751)' />"
        L"<element type='TR' name='TL TZ5C' way='TZ5C(09750:09751)' />"
        L"<element type='TR' name='TL ZK9C' way='ZK9C(09751:09780)' />"
        L"<element type='TR' name='TL ZK10C' way='ZK10C(09751:09780)' />"
        L"<element type='TR' name='TL ZK11C' way='ZK11C(09751:09780)' />"
        L"<element type='TR' name='TL ZK12C' way='ZK12C(09751:09780)' />"
        L"<element type='TR' name='TL ZK13C' way='ZK13C(09751:09780)' />"
        L"<element type='TR' name='TL ZK14C' way='ZK14C(09751:09780)' />"
        L"<element type='TR' name='TL ZK15C' way='ZK15C(09751:09780)' />"
        L"<element type='TR' name='TL ZK16C' way='ZK16C(09751:09780)' />"
        L"<element type='TR' name='TL ZK17C' way='ZK17C(09751:09780)' />"
        L"<element type='TR' name='TL ZK8C' way='ZK8C(09751:09780)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09751)' way='1SP(09751)' />"
        L"<element type='PT' name='PT 2' switch='2(09751)' way='2SP(09751)' />"
        L"</station>"
        L"<station name_short='T2' name_long='Tukums-2' abonent='110'>"
        L"<!--участок-->"
        L"<element type='TR' name='TL NR2IP' way='NR2IP(09736)' />"
        L"<element type='TR' name='TL TS6C' way='TS6C(09750:09772)' />"
        L"<element type='TR' name='TL TS2C' way='TS2C(09750:09772)' />"
        L"<element type='TR' name='TL TS3C' way='TS3C(09750:09772)' />"
        L"<element type='TR' name='TL TS4C' way='TS4C(09750:09772)' />"
        L"<element type='TR' name='TL TS5C' way='TS5C(09750:09772)' />"
        L"<element type='TR' name='TL NR1IP' way='NR1IP(09736:09750)' />"
        L"<element type='TR' name='TL TZ11C' way='TZ11C(09750:09751)' />"
        L"<element type='TR' name='TL TZ10C' way='TZ10C(09750:09751)' />"
        L"<element type='TR' name='TL TZ9C' way='TZ9C(09750:09751)' />"
        L"<element type='TR' name='TL TZ8C' way='TZ8C(09750:09751)' />"
        L"<element type='TR' name='TL TZ7C' way='TZ7C(09750:09751)' />"
        L"<element type='TR' name='TL TZ6C' way='TZ6C(09750:09751)' />"
        L"<element type='TR' name='TL TS1C' way='TS1C(09750:09772)' />"
        L"<element type='TR' name='TS NJDP' way='NJDP(09750)' />"
        L"<element type='TR' name='TS 1AC' way='1AC(09750)' />"
        L"<element type='TR' name='TS 1BC' way='1BC(09750)' />"
        L"<element type='TR' name='TS 1CC' way='1CC(09750)' />"
        L"<element type='TR' name='TS 2C' way='2C(09750)' />"
        L"<element type='TR' name='TS 3C' way='3C(09750)' />"
        L"<element type='TR' name='TS 4C' way='4C(09750)' />"
        L"<element type='TR' name='TS 5C' way='5C(09750)' />"
        L"<element type='TR' name='TS 6C' way='6C(09750)' />"
        L"<element type='TR' name='TS NRDP' way='NRDP(09750)' />"
        L"<element type='TR' name='TS PVDP' way='PVDP(09750)' />"
        L"<element type='TR' name='TL T1_PSP' way='PSP#(09736)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09750)' way='1SP(09750)' />"
        L"<element type='PT' name='PT 3' switch='3(09750)' way='3-9SP(09750)' />"
        L"<element type='PT' name='PT 5' switch='5(09750)' way='3-9SP(09750)' />"
        L"<element type='PT' name='PT 7' switch='7(09750)' way='7-15SP(09750)' />"
        L"<element type='PT' name='PT 9' switch='9(09750)' way='3-9SP(09750)' />"
        L"<element type='PT' name='PT 11' switch='11(09750)' way='11-13SP(09750)' />"
        L"<element type='PT' name='PT 13' switch='13(09750)' way='11-13SP(09750)' />"
        L"<element type='PT' name='PT 15' switch='15(09750)' way='7-15SP(09750)' />"
        L"<element type='PT' name='PT 17' switch='17(09750)' way='17-19SP(09750)' />"
        L"<element type='PT' name='PT 19' switch='19(09750)' way='17-19SP(09750)' />"
        L"<element type='PT' name='PT 7NA' switch='7NA(09750)' way='17-19SP(09750)' />"
        L"<element type='PT' name='PT 12NA' switch='12NA(09750)' way='17-19SP(09750)' />"
        L"<element type='PT' name='PT 2' switch='2(09750)' way='2-6SP(09750)' />"
        L"<element type='PT' name='PT 4' switch='4(09750)' way='4SP(09750)' />"
        L"<element type='PT' name='PT 6' switch='6(09750)' way='2-6SP(09750)' />"
        L"<element type='PT' name='PT 8' switch='8(09750)' way='8SP(09750)' />"
        L"<element type='PT' name='PT 10' switch='10(09750)' way='10-18SP(09750)' />"
        L"<element type='PT' name='PT 12' switch='12(09750)' way='12-14SP(09750)' />"
        L"<element type='PT' name='PT 14' switch='14(09750)' way='12-14SP(09750)' />"
        L"<element type='PT' name='PT 16' switch='16(09750)' way='10-18SP(09750)' />"
        L"<element type='PT' name='PT 18' switch='18(09750)' way='10-18SP(09750)' />"
        L"<element type='PT' name='PT 20' switch='20(09750)' way='20-24SP(09750)' />"
        L"<element type='PT' name='PT 22' switch='22(09750)' way='20-24SP(09750)' />"
        L"<element type='PT' name='PT 24' switch='24(09750)' way='20-24SP(09750)' />"
        L"<element type='PT' name='PT 28' switch='28(09750)' way='28SP(09750)' />"
        L"<element type='PT' name='PT 30' switch='30(09750)' way='30SP(09750)' />"
        L"</station>"
        L"<station name_short='SL' name_long='Slampe' abonent='111'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09772)' />"
        L"<element type='TR' name='TS 2C' way='2C(09772)' />"
        L"<element type='TR' name='TS 3AC' way='3AC(09772)' />"
        L"<element type='TR' name='TS 3BC' way='3BC(09772)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09772)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09772)' />"
        L"<element type='TR' name='TL TS7C' way='TS7C(09750:09772)' />"
        L"<element type='TR' name='TL TS8C' way='TS8C(09750:09772)' />"
        L"<element type='TR' name='TL TS9C' way='TS9C(09750:09772)' />"
        L"<element type='TR' name='TL SV10C' way='SV10C(09764:09772)' />"
        L"<element type='TR' name='TL SV11C' way='SV11C(09764:09772)' />"
        L"<element type='TR' name='TL SV12C' way='SV12C(09764:09772)' />"
        L"<element type='TR' name='TL SV13C' way='SV13C(09764:09772)' />"
        L"<element type='TR' name='TL SV14C' way='SV14C(09764:09772)' />"
        L"<element type='TR' name='TL SV15C' way='SV15C(09764:09772)' />"
        L"<element type='TR' name='TL SV16C' way='SV16C(09764:09772)' />"
        L"<element type='TR' name='TL SV17C' way='SV17C(09764:09772)' />"
        L"<element type='TR' name='TL SV1C' way='SV1C(09764:09772)' />"
        L"<element type='TR' name='TL SV2C' way='SV2C(09764:09772)' />"
        L"<element type='TR' name='TL SV3C' way='SV3C(09764:09772)' />"
        L"<element type='TR' name='TL SV4C' way='SV4C(09764:09772)' />"
        L"<element type='TR' name='TL SV5C' way='SV5C(09764:09772)' />"
        L"<element type='TR' name='TL SV6C' way='SV6C(09764:09772)' />"
        L"<element type='TR' name='TL SV7C' way='SV7C(09764:09772)' />"
        L"<element type='TR' name='TL SV8C' way='SV8C(09764:09772)' />"
        L"<element type='TR' name='TL SV9C' way='SV9C(09764:09772)' />"
        L"<element type='TR' name='TL TS10C' way='TS10C(09750:09772)' />"
        L"<element type='TR' name='TL TS11C' way='TS11C(09750:09772)' />"
        L"<element type='TR' name='TL TS12C' way='TS12C(09750:09772)' />"
        L"<element type='TR' name='TL TS13C' way='TS13C(09750:09772)' />"
        L"<element type='TR' name='TL TS14C' way='TS14C(09750:09772)' />"
        L"<element type='TR' name='TL TS15C' way='TS15C(09750:09772)' />"
        L"<element type='TR' name='TL TS16C' way='TS16C(09750:09772)' />"
        L"<element type='TR' name='TL TS17C' way='TS17C(09750:09772)' />"
        L"<element type='TR' name='TL TS18C' way='TS18C(09750:09772)' />"
        L"<element type='TR' name='TL TS19C' way='TS19C(09750:09772)' />"
        L"<element type='TR' name='TL TS20C' way='TS20C(09750:09772)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09772)' way='1-3SP(09772)' />"
        L"<element type='PT' name='PT 3' switch='3(09772)' way='1-3SP(09772)' />"
        L"<element type='PT' name='PT 5' switch='5(09772)' way='5SP(09772)' />"
        L"<element type='PT' name='PT 2' switch='2(09772)' way='2-4SP(09772)' />"
        L"<element type='PT' name='PT 4' switch='4(09772)' way='2-4SP(09772)' />"
        L"</station>"
        L"<station name_short='LB' name_long='Livberze' abonent='112'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09764)' />"
        L"<element type='TR' name='TS 2AC' way='2AC(09764)' />"
        L"<element type='TR' name='TS 2BC' way='2BC(09764)' />"
        L"<element type='TR' name='TS 3C' way='3C(09764)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09764)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09764)' />"
        L"<element type='TR' name='TL LJ1C' way='LJ1C(09180:09764)' />"
        L"<element type='TR' name='TL LJ20C' way='LJ20C(09180:09764)' />"
        L"<element type='TR' name='TL LJ21C' way='LJ21C(09180:09764)' />"
        L"<element type='TR' name='TL LJ22C' way='LJ22C(09180:09764)' />"
        L"<element type='TR' name='TL LJ2C' way='LJ2C(09180:09764)' />"
        L"<element type='TR' name='TL LJ3C' way='LJ3C(09180:09764)' />"
        L"<element type='TR' name='TL LJ4C' way='LJ4C(09180:09764)' />"
        L"<element type='TR' name='TL LJ5C' way='LJ5C(09180:09764)' />"
        L"<element type='TR' name='TL LJ6C' way='LJ6C(09180:09764)' />"
        L"<element type='TR' name='TL LJ7C' way='LJ7C(09180:09764)' />"
        L"<element type='TR' name='TL LJ8C' way='LJ8C(09180:09764)' />"
        L"<element type='TR' name='TL LJ9C' way='LJ9C(09180:09764)' />"
        L"<element type='TR' name='TL SV18C' way='SV18C(09764:09772)' />"
        L"<element type='TR' name='TL SV19C' way='SV19C(09764:09772)' />"
        L"<element type='TR' name='TL SV20C' way='SV20C(09764:09772)' />"
        L"<element type='TR' name='TL SV21C' way='SV21C(09764:09772)' />"
        L"<element type='TR' name='TL SV22C' way='SV22C(09764:09772)' />"
        L"<element type='TR' name='TL SV23C' way='SV23C(09764:09772)' />"
        L"<element type='TR' name='TL LJ10C' way='LJ10C(09180:09764)' />"
        L"<element type='TR' name='TL LJ11C' way='LJ11C(09180:09764)' />"
        L"<element type='TR' name='TL LJ12C' way='LJ12C(09180:09764)' />"
        L"<element type='TR' name='TL LJ13C' way='LJ13C(09180:09764)' />"
        L"<element type='TR' name='TL LJ14C' way='LJ14C(09180:09764)' />"
        L"<element type='TR' name='TL LJ15C' way='LJ15C(09180:09764)' />"
        L"<element type='TR' name='TL LJ16C' way='LJ16C(09180:09764)' />"
        L"<element type='TR' name='TL LJ17C' way='LJ17C(09180:09764)' />"
        L"<element type='TR' name='TL LJ18C' way='LJ18C(09180:09764)' />"
        L"<element type='TR' name='TL LJ19C' way='LJ19C(09180:09764)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09764)' way='1-3SP(09764)' />"
        L"<element type='PT' name='PT 3' switch='3(09764)' way='1-3SP(09764)' />"
        L"<element type='PT' name='PT 2' switch='2(09764)' way='2-4SP(09764)' />"
        L"<element type='PT' name='PT 4' switch='4(09764)' way='2-4SP(09764)' />"
        L"<element type='PT' name='PT 6' switch='6(09764)' way='6SP(09764)' />"
        L"</station>"
        L"<station name_short='GR' name_long='Garoza' abonent='113'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS PDP' way='PDP(09251)' />"
        L"<element type='TR' name='TS 1C' way='1C(09251)' />"
        L"<element type='TR' name='TS 2C' way='2C(09251)' />"
        L"<element type='TR' name='TS 3C' way='3C(09251)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09251)' />"
        L"<element type='TR' name='TL JG1C' way='JG1C(09181:09251)' />"
        L"<element type='TR' name='TL JG2C' way='JG2C(09181:09251)' />"
        L"<element type='TR' name='TL JG3C' way='JG3C(09181:09251)' />"
        L"<element type='TR' name='TL JG4C' way='JG4C(09181:09251)' />"
        L"<element type='TR' name='TL JG5C' way='JG5C(09181:09251)' />"
        L"<element type='TR' name='TL JG6C' way='JG6C(09181:09251)' />"
        L"<element type='TR' name='TL JG7C' way='JG7C(09181:09251)' />"
        L"<element type='TR' name='TL JG8C' way='JG8C(09181:09251)' />"
        L"<element type='TR' name='TL JG9C' way='JG9C(09181:09251)' />"
        L"<element type='TR' name='TL JG10C' way='JG10C(09181:09251)' />"
        L"<element type='TR' name='TL JG11C' way='JG11C(09181:09251)' />"
        L"<element type='TR' name='TL JG12C' way='JG12C(09181:09251)' />"
        L"<element type='TR' name='TL JG13C' way='JG13C(09181:09251)' />"
        L"<element type='TR' name='TL GZ1C' way='GZ1C(09241:09251)' />"
        L"<element type='TR' name='TL GZ2C' way='GZ2C(09241:09251)' />"
        L"<element type='TR' name='TL GZ3C' way='GZ3C(09241:09251)' />"
        L"<element type='TR' name='TL GZ4C' way='GZ4C(09241:09251)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 2' switch='2(09251)' way='2-4SP(09251)' />"
        L"<element type='PT' name='PT 4' switch='4(09251)' way='2-4SP(09251)' />"
        L"<element type='PT' name='PT 1' switch='1(09251)' way='1-3SP(09251)' />"
        L"<element type='PT' name='PT 3' switch='3(09251)' way='1-3SP(09251)' />"
        L"</station>"
        L"<station name_short='ZL' name_long='Zalite' abonent='114'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS PDP' way='PDP(09241)' />"
        L"<element type='TR' name='TS 1C' way='1C(09241)' />"
        L"<element type='TR' name='TS 2C' way='2C(09241)' />"
        L"<element type='TR' name='TS 3C' way='3C(09241)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09241)' />"
        L"<element type='TR' name='TL GZ5C' way='GZ5C(09241:09251)' />"
        L"<element type='TR' name='TL GZ6C' way='GZ6C(09241:09251)' />"
        L"<element type='TR' name='TL GZ7C' way='GZ7C(09241:09251)' />"
        L"<element type='TR' name='TL GZ8C' way='GZ8C(09241:09251)' />"
        L"<element type='TR' name='TL ZI1C' way='ZI1C(09240:09241)' />"
        L"<element type='TR' name='TL ZI2C' way='ZI2C(09240:09241)' />"
        L"<element type='TR' name='TL ZI3C' way='ZI3C(09240:09241)' />"
        L"<element type='TR' name='TL ZI4C' way='ZI4C(09240:09241)' />"
        L"<element type='TR' name='TL ZI5C' way='ZI5C(09240:09241)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 2' switch='2(09241)' way='2-4SP(09241)' />"
        L"<element type='PT' name='PT 4' switch='4(09241)' way='2-4SP(09241)' />"
        L"<element type='PT' name='PT 1' switch='1(09241)' way='1-3SP(09241)' />"
        L"<element type='PT' name='PT 3' switch='3(09241)' way='1-3SP(09241)' />"
        L"</station>"
        L"<station name_short='IE' name_long='Iecava' abonent='115'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09240)' />"
        L"<element type='TR' name='TS 11C' way='11C(09240)' />"
        L"<element type='TR' name='TS 14C' way='14C(09240)' />"
        L"<element type='TR' name='TS 21C' way='21C(09240)' />"
        L"<element type='TR' name='TS 2AC' way='2aC(09240)' />"
        L"<element type='TR' name='TS 2BC' way='2bC(09240)' />"
        L"<element type='TR' name='TS 3C' way='3C(09240)' />"
        L"<element type='TR' name='TS 4AC' way='4aC(09240)' />"
        L"<element type='TR' name='TS 4BC' way='4bC(09240)' />"
        L"<element type='TR' name='TS 5C' way='5C(09240)' />"
        L"<element type='TR' name='TS 7C' way='7C(09240)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09240)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09240)' />"
        L"<element type='TR' name='TL ZI6C' way='ZI6C(09240:09241)' />"
        L"<element type='TR' name='TL ZI7C' way='ZI7C(09240:09241)' />"
        L"<element type='TR' name='TL ZI8C' way='ZI8C(09240:09241)' />"
        L"<element type='TR' name='TL ZI9C' way='ZI9C(09240:09241)' />"
        L"<element type='TR' name='TL ZI10C' way='ZI10C(09240:09241)' />"
        L"<element type='TR' name='TL IM1C' way='IM1C(09230:09240)' />"
        L"<element type='TR' name='TL IM2C' way='IM2C(09230:09240)' />"
        L"<element type='TR' name='TL IM3C' way='IM3C(09230:09240)' />"
        L"<element type='TR' name='TL IM4C' way='IM4C(09230:09240)' />"
        L"<element type='TR' name='TL IM5C' way='IM5C(09230:09240)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 11' switch='11(09240)' way='11SP(09240)' />"
        L"<element type='PT' name='PT 13' switch='13(09240)' way='13SP(09240)' />"
        L"<element type='PT' name='PT 1' switch='1(09240)' way='1-7SP(09240)' />"
        L"<element type='PT' name='PT 3' switch='3(09240)' way='1-7SP(09240)' />"
        L"<element type='PT' name='PT 7' switch='7(09240)' way='1-7SP(09240)' />"
        L"<element type='PT' name='PT 2' switch='2(09240)' way='2-6SP(09240)' />"
        L"<element type='PT' name='PT 6' switch='6(09240)' way='2-6SP(09240)' />"
        L"<element type='PT' name='PT 4' switch='4(09240)' way='4SP(09240)' />"
        L"<element type='PT' name='PT 5' switch='5(09240)' way='5-9SP(09240)' />"
        L"<element type='PT' name='PT 9' switch='9(09240)' way='5-9SP(09240)' />"
        L"<element type='PT' name='PT 8' switch='8(09240)' way='8SP(09240)' />"
        L"</station>"
        L"<station name_short='MI' name_long='Misa' abonent='116'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1AC' way='1aC(09230)' />"
        L"<element type='TR' name='TS 1BC' way='1bC(09230)' />"
        L"<element type='TR' name='TS 2C' way='2C(09230)' />"
        L"<element type='TR' name='TS 3C' way='3C(09230)' />"
        L"<element type='TR' name='TS 4AC' way='4aC(09230)' />"
        L"<element type='TR' name='TS 4BC' way='4bC(09230)' />"
        L"<element type='TR' name='TS 5C' way='5C(09230)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09230)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09230)' />"
        L"<element type='TR' name='TL IM6C' way='IM6C(09230:09240)' />"
        L"<element type='TR' name='TL IM7C' way='IM7C(09230:09240)' />"
        L"<element type='TR' name='TL IM8C' way='IM8C(09230:09240)' />"
        L"<element type='TR' name='TL IM9C' way='IM9C(09230:09240)' />"
        L"<element type='TR' name='TL IM10C' way='IM10C(09230:09240)' />"
        L"<element type='TR' name='TL IM11C' way='IM11C(09230:09240)' />"
        L"<element type='TR' name='TL IM12C' way='IM12C(09230:09240)' />"
        L"<element type='TR' name='TL MV1C' way='MV1C(09220:09230)' />"
        L"<element type='TR' name='TL MV2C' way='MV2C(09220:09230)' />"
        L"<element type='TR' name='TL MV3C' way='MV3C(09220:09230)' />"
        L"<element type='TR' name='TL MV4C' way='MV4C(09220:09230)' />"
        L"<element type='TR' name='TL MV5C' way='MV5C(09220:09230)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09230)' way='1-3SP(09230)' />"
        L"<element type='PT' name='PT 3' switch='3(09230)' way='1-3SP(09230)' />"
        L"<element type='PT' name='PT 2' switch='2(09230)' way='2-4SP(09230)' />"
        L"<element type='PT' name='PT 4' switch='4(09230)' way='2-4SP(09230)' />"
        L"<element type='PT' name='PT 5' switch='5(09230)' way='5SP(09230)' />"
        L"<element type='PT' name='PT 7' switch='7(09230)' way='7SP(09230)' />"
        L"<element type='PT' name='PT 9' switch='9(09230)' way='9SP(09230)' />"
        L"</station>"
        L"<station name_short='VC' name_long='Vecumnieki' abonent='117'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09220)' />"
        L"<element type='TR' name='TS 2AC' way='2aC(09220)' />"
        L"<element type='TR' name='TS 2BC' way='2bC(09220)' />"
        L"<element type='TR' name='TS 3C' way='3C(09220)' />"
        L"<element type='TR' name='TS 4AC' way='4aC(09220)' />"
        L"<element type='TR' name='TS 4BC' way='4bC(09220)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09220)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09220)' />"
        L"<element type='TR' name='TL MV6C' way='MV6C(09220:09230)' />"
        L"<element type='TR' name='TL MV7C' way='MV7C(09220:09230)' />"
        L"<element type='TR' name='TL MV8C' way='MV8C(09220:09230)' />"
        + std::wstring(
        L"<element type='TR' name='TL MV9C' way='MV9C(09220:09230)' />"
        L"<element type='TR' name='TL MV10C' way='MV10C(09220:09230)' />"
        L"<element type='TR' name='TL VL1C' way='VL1C(09211:09220)' />"
        L"<element type='TR' name='TL VL2C' way='VL2C(09211:09220)' />"
        L"<element type='TR' name='TL VL3C' way='VL3C(09211:09220)' />"
        L"<element type='TR' name='TL VL4C' way='VL4C(09211:09220)' />"
        L"<element type='TR' name='TL VL5C' way='VL5C(09211:09220)' />"
        L"<element type='TR' name='TL VL6C' way='VL6C(09211:09220)' />"
        L"<element type='TR' name='TL VL7C' way='VL7C(09211:09220)' />"
        L"<element type='TR' name='TL VL8C' way='VL8C(09211:09220)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 13' switch='13(09220)' way='13SP(09220)' />"
        L"<element type='PT' name='PT 1' switch='1(09220)' way='1-5SP(09220)' />"
        L"<element type='PT' name='PT 5' switch='5(09220)' way='1-5SP(09220)' />"
        L"<element type='PT' name='PT 2' switch='2(09220)' way='2-4SP(09220)' />"
        L"<element type='PT' name='PT 4' switch='4(09220)' way='2-4SP(09220)' />"
        L"<element type='PT' name='PT 3' switch='3(09220)' way='3SP(09220)' />"
        L"</station>"
        L"<station name_short='LP' name_long='Lacplesis' abonent='118'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09211)' />"
        L"<element type='TR' name='TS 2C' way='2C(09211)' />"
        L"<element type='TR' name='TS 3C' way='3C(09211)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09211)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09211)' />"
        L"<element type='TR' name='TL VL9C' way='VL9C(09211:09220)' />"
        L"<element type='TR' name='TL VL10C' way='VL10C(09211:09220)' />"
        L"<element type='TR' name='TL VL11C' way='VL11C(09211:09220)' />"
        L"<element type='TR' name='TL VL12C' way='VL12C(09211:09220)' />"
        L"<element type='TR' name='TL VL13C' way='VL13C(09211:09220)' />"
        L"<element type='TR' name='TL VL14C' way='VL14C(09211:09220)' />"
        L"<element type='TR' name='TL VL15C' way='VL15C(09211:09220)' />"
        L"<element type='TR' name='TL VL16C' way='VL16C(09211:09220)' />"
        L"<element type='TR' name='TL VL17C' way='VL17C(09211:09220)' />"
        L"<element type='TR' name='TL VL18C' way='VL18C(09211:09220)' />"
        L"<element type='TR' name='TL LT1C' way='LT1C(09210:09211)' />"
        L"<element type='TR' name='TL LT2C' way='LT2C(09210:09211)' />"
        L"<element type='TR' name='TL LT3C' way='LT3C(09210:09211)' />"
        L"<element type='TR' name='TL LT4C' way='LT4C(09210:09211)' />"
        L"<element type='TR' name='TL LT5C' way='LT5C(09210:09211)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 2' switch='2/2S(09211)' way='2/2S-4/4SSP(09211)' />"
        L"<element type='PT' name='PT 4' switch='4/4S(09211)' way='2/2S-4/4SSP(09211)' />"
        L"<element type='PT' name='PT 1' switch='1/1S(09211)' way='1/1S-3/3SSP(09211)' />"
        L"<element type='PT' name='PT 3' switch='3/3S(09211)' way='1/1S-3/3SSP(09211)' />"
        L"</station>"
        L"<station name_short='TK' name_long='Taurkalne' abonent='119'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09210)' />"
        L"<element type='TR' name='TS 2C' way='2C(09210)' />"
        L"<element type='TR' name='TS 3AC' way='3aC(09210)' />"
        L"<element type='TR' name='TS 3BC' way='3bC(09210)' />"
        L"<element type='TR' name='TS 5C' way='5C(09210)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09210)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09210)' />"
        L"<element type='TR' name='TL LT6C' way='LT6C(09210:09211)' />"
        L"<element type='TR' name='TL LT7C' way='LT7C(09210:09211)' />"
        L"<element type='TR' name='TL LT8C' way='LT8C(09210:09211)' />"
        L"<element type='TR' name='TL LT9C' way='LT9C(09210:09211)' />"
        L"<element type='TR' name='TL LT10C' way='LT10C(09210:09211)' />"
        L"<element type='TR' name='TL TM1C' way='TM1C(09202:09210)' />"
        L"<element type='TR' name='TL TM2C' way='TM2C(09202:09210)' />"
        L"<element type='TR' name='TL TM3C' way='TM3C(09202:09210)' />"
        L"<element type='TR' name='TL TM4C' way='TM4C(09202:09210)' />"
        L"<element type='TR' name='TL TM5C' way='TM5C(09202:09210)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09210)' way='1-3SP(09210)' />"
        L"<element type='PT' name='PT 3' switch='3(09210)' way='1-3SP(09210)' />"
        L"<element type='PT' name='PT 2' switch='2(09210)' way='2-4SP(09210)' />"
        L"<element type='PT' name='PT 4' switch='4(09210)' way='2-4SP(09210)' />"
        L"<element type='PT' name='PT 6' switch='6(09210)' way='6SP(09210)' />"
        L"</station>"
        L"<station name_short='MT' name_long='Menta' abonent='120'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09202)' />"
        L"<element type='TR' name='TS 2C' way='2C(09202)' />"
        L"<element type='TR' name='TS 3C' way='3C(09202)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09202)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09202)' />"
        L"<element type='TR' name='TL TM6C' way='TM6C(09202:09210)' />"
        L"<element type='TR' name='TL TM7C' way='TM7C(09202:09210)' />"
        L"<element type='TR' name='TL TM8C' way='TM8C(09202:09210)' />"
        L"<element type='TR' name='TL TM9C' way='TM9C(09202:09210)' />"
        L"<element type='TR' name='TL TM10C' way='TM10C(09202:09210)' />"
        L"<element type='TR' name='TL TM11C' way='TM11C(09202:09210)' />"
        L"<element type='TR' name='TL TM12C' way='TM12C(09202:09210)' />"
        L"<element type='TR' name='TL MD1C' way='MD1C(09200:09202)' />"
        L"<element type='TR' name='TL MD2C' way='MD2C(09200:09202)' />"
        L"<element type='TR' name='TL MD3C' way='MD3C(09200:09202)' />"
        L"<element type='TR' name='TL MD4C' way='MD4C(09200:09202)' />"
        L"<element type='TR' name='TL MD5C' way='MD5C(09200:09202)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09202)' way='1-3SP(09202)' />"
        L"<element type='PT' name='PT 3' switch='3(09202)' way='1-3SP(09202)' />"
        L"<element type='PT' name='PT 2' switch='2(09202)' way='2-4SP(09202)' />"
        L"<element type='PT' name='PT 4' switch='4(09202)' way='2-4SP(09202)' />"
        L"</station>"
        L"<station name_short='DZ' name_long='Daudzeva' abonent='121'>"
        L"<!--переезд-->"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09200)' />"
        L"<element type='TR' name='TS 2AC' way='2aC(09200)' />"
        L"<element type='TR' name='TS 2BC' way='2bC(09200)' />"
        L"<element type='TR' name='TS 3C' way='3C(09200)' />"
        L"<element type='TR' name='TS 4AC' way='4aC(09200)' />"
        L"<element type='TR' name='TS 4BC' way='4bC(09200)' />"
        L"<element type='TR' name='TS 8C' way='8C(09200)' />"
        L"<element type='TR' name='TS 9C' way='9C(09200)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09200)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09200)' />"
        L"<element type='TR' name='TL MD6C' way='MD6C(09200:09202)' />"
        L"<element type='TR' name='TL MD7C' way='MD7C(09200:09202)' />"
        L"<element type='TR' name='TL MD8C' way='MD8C(09200:09202)' />"
        L"<element type='TR' name='TL MD9C' way='MD9C(09200:09202)' />"
        L"<element type='TR' name='TL MD10C' way='MD10C(09200:09202)' />"
        L"<element type='TR' name='TL DS1C' way='DS1C(09193:09200)' />"
        L"<element type='TR' name='TL DS2C' way='DS2C(09193:09200)' />"
        L"<element type='TR' name='TL DS3C' way='DS3C(09193:09200)' />"
        L"<element type='TR' name='TL DS4C' way='DS4C(09193:09200)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 12' switch='12(09200)' way='12SP(09200)' />"
        L"<element type='PT' name='PT 1' switch='1(09200)' way='1-3SP(09200)' />"
        L"<element type='PT' name='PT 3' switch='3(09200)' way='1-3SP(09200)' />"
        L"<element type='PT' name='PT 16' switch='16(09200)' way='16SP(09200)' />"
        L"<element type='PT' name='PT 2' switch='2(09200)' way='2-6SP(09200)' />"
        L"<element type='PT' name='PT 6' switch='6(09200)' way='2-6SP(09200)' />"
        L"<element type='PT' name='PT 4' switch='4(09200)' way='4-8SP(09200)' />"
        L"<element type='PT' name='PT 8' switch='8(09200)' way='4-8SP(09200)' />"
        L"</station>"
        L"<station name_short='SC' name_long='Sece' abonent='122'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09193)' />"
        L"<element type='TR' name='TS 2C' way='2C(09193)' />"
        L"<element type='TR' name='TS 3C' way='3C(09193)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09193)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09193)' />"
        L"<element type='TR' name='TL DS5C' way='DS5C(09193:09200)' />"
        L"<element type='TR' name='TL DS6C' way='DS6C(09193:09200)' />"
        L"<element type='TR' name='TL DS7C' way='DS7C(09193:09200)' />"
        L"<element type='TR' name='TL DS8C' way='DS8C(09193:09200)' />"
        L"<element type='TR' name='TL SS1C' way='SS1C(09191:09193)' />"
        L"<element type='TR' name='TL SS2C' way='SS2C(09191:09193)' />"
        L"<element type='TR' name='TL SS3C' way='SS3C(09191:09193)' />"
        L"<element type='TR' name='TL SS4C' way='SS4C(09191:09193)' />"
        L"<element type='TR' name='TL SS5C' way='SS5C(09191:09193)' />"
        L"<element type='TR' name='TL SS6C' way='SS6C(09191:09193)' />"
        L"<element type='TR' name='TL SS7C' way='SS7C(09191:09193)' />"
        L"<element type='TR' name='TL SS8C' way='SS8C(09191:09193)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09193)' way='1-3SP(09193)' />"
        L"<element type='PT' name='PT 3' switch='3(09193)' way='1-3SP(09193)' />"
        L"<element type='PT' name='PT 2' switch='2(09193)' way='2-4SP(09193)' />"
        L"<element type='PT' name='PT 4' switch='4(09193)' way='2-4SP(09193)' />"
        L"<element type='PT' name='PT 5' switch='5(09193)' way='5SP(09193)' />"
        L"</station>"
        L"<station name_short='SE' name_long='Selpils' abonent='123'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09191)' />"
        L"<element type='TR' name='TS 2C' way='2C(09191)' />"
        L"<element type='TR' name='TS 3C' way='3C(09191)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09191)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09191)' />"
        L"<element type='TR' name='TL SS9C' way='SS9C(09191:09193)' />"
        L"<element type='TR' name='TL SS10C' way='SS10C(09191:09193)' />"
        L"<element type='TR' name='TL SS11C' way='SS11C(09191:09193)' />"
        L"<element type='TR' name='TL SS12C' way='SS12C(09191:09193)' />"
        L"<element type='TR' name='TL SS13C' way='SS13C(09191:09193)' />"
        L"<element type='TR' name='TL SS14C' way='SS14C(09191:09193)' />"
        L"<element type='TR' name='TL SS15C' way='SS15C(09191:09193)' />"
        L"<element type='TR' name='TL SS16C' way='SS16C(09191:09193)' />"
        L"<element type='TR' name='TL SS17C' way='SS17C(09191:09193)' />"
        L"<element type='TR' name='TL SS18C' way='SS18C(09191:09193)' />"
        L"<element type='TR' name='TL SD1C' way='SD1C(09190:09191)' />"
        L"<element type='TR' name='TL SD2C' way='SD2C(09190:09191)' />"
        L"<element type='TR' name='TL SD3C' way='SD3C(09190:09191)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09191)' way='1-3SP(09191)' />"
        L"<element type='PT' name='PT 3' switch='3(09191)' way='1-3SP(09191)' />"
        L"<element type='PT' name='PT 2' switch='2(09191)' way='2-4SP(09191)' />"
        L"<element type='PT' name='PT 4' switch='4(09191)' way='2-4SP(09191)' />"
        L"</station>"
        L"<station name_short='DG' name_long='Daugava' abonent='124'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(09190)' />"
        L"<element type='TR' name='TS 2C' way='2C(09190)' />"
        L"<element type='TR' name='TS 3C' way='3C(09190)' />"
        L"<element type='TR' name='TS NDP' way='NDP(09190)' />"
        L"<element type='TR' name='TS PDP' way='PDP(09190)' />"
        L"<element type='TR' name='TL SD4C' way='SD4C(09190:09191)' />"
        L"<element type='TR' name='TL SD5C' way='SD5C(09190:09191)' />"
        L"<element type='TR' name='TL SD6C' way='SD6C(09190:09191)' />"
        L"<element type='TR' name='TL DK1C' way='DK1C(09190:11420)' />"
        L"<element type='TR' name='TL DK2C' way='DK2C(09190:11420)' />"
        L"<element type='TR' name='TL DK3C' way='DK3C(09190:11420)' />"
        L"<element type='TR' name='TL DK4C' way='DK4C(09190:11420)' />"
        L"<element type='TR' name='TL DK5C' way='DK5C(09190:11420)' />"
        L"<element type='TR' name='TL DK6C' way='DK6C(09190:11420)' />"
        L"<element type='TR' name='TL DK7C' way='DK7C(09190:11420)' />"
        L"<element type='TR' name='TL DK8C' way='DK8C(09190:11420)' />"
        L"<element type='TR' name='TL DK9C' way='DK9C(09190:11420)' />"
        L"<element type='TR' name='TL DK10C' way='DK10C(09190:11420)' />"
        L"<element type='TR' name='TL DK11C' way='DK11C(09190:11420)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(09190)' way='1-3SP(09190)' />"
        L"<element type='PT' name='PT 3' switch='3(09190)' way='1-3SP(09190)' />"
        L"<element type='PT' name='PT 2' switch='2(09190)' way='2-4SP(09190)' />"
        L"<element type='PT' name='PT 4' switch='4(09190)' way='2-4SP(09190)' />"
        L"</station>"
        L"<station name_short='NJ' name_long='Naujene' abonent='125'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(11062)' />"
        L"<element type='TR' name='TS 3C' way='3C(11062)' />"
        L"<element type='TR' name='TS 5C' way='5C(11062)' />"
        L"<element type='TR' name='TS NDP' way='NDP(11062)' />"
        L"<element type='TR' name='TS PDP' way='PDP(11062)' />"
        L"<element type='TR' name='TL NB1C' way='NB1C(11062:11063)' />"
        L"<element type='TR' name='TL NB2C' way='NB2C(11062:11063)' />"
        L"<element type='TR' name='TL NB3C' way='NB3C(11062:11063)' />"
        L"<element type='TR' name='TL NB4C' way='NB4C(11062:11063)' />"
        L"<element type='TR' name='TL NB5C' way='NB5C(11062:11063)' />"
        L"<element type='TR' name='TL NB6C' way='NB6C(11062:11063)' />"
        L"<element type='TR' name='TL NB7C' way='NB7C(11062:11063)' />"
        L"<element type='TR' name='TL NV1C' way='NV1C(11060:11062)' />"
        L"<element type='TR' name='TL NV2C' way='NV2C(11060:11062)' />"
        L"<element type='TR' name='TL NV3C' way='NV3C(11060:11062)' />"
        L"<element type='TR' name='TL NV4C' way='NV4C(11060:11062)' />"
        L"<element type='TR' name='TL NV5C' way='NV5C(11060:11062)' />"
        L"<element type='TR' name='TL NV6C' way='NV6C(11060:11062)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(11062)' way='1-3SP(11062)' />"
        L"<element type='PT' name='PT 3' switch='3(11062)' way='1-3SP(11062)' />"
        L"<element type='PT' name='PT 2' switch='2(11062)' way='2-4SP(11062)' />"
        L"<element type='PT' name='PT 4' switch='4(11062)' way='2-4SP(11062)' />"
        L"</station>"
        L"<station name_short='IZ' name_long='Izvalda' abonent='126'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS PDP' way='PDP(11060)' />"
        L"<element type='TR' name='TS 1C' way='1C(11060)' />"
        L"<element type='TR' name='TS 2C' way='2C(11060)' />"
        L"<element type='TR' name='TS 3C' way='3C(11060)' />"
        L"<element type='TR' name='TS 4C' way='4C(11060)' />"
        L"<element type='TR' name='TS NDP' way='NDP(11060)' />"
        L"<element type='TR' name='TL NV7C' way='NV7C(11060:11062)' />"
        L"<element type='TR' name='TL NV8C' way='NV8C(11060:11062)' />"
        L"<element type='TR' name='TL NV9C' way='NV9C(11060:11062)' />"
        L"<element type='TR' name='TL NV10C' way='NV10C(11060:11062)' />"
        L"<element type='TR' name='TL NV11C' way='NV11C(11060:11062)' />"
        L"<element type='TR' name='TL NV12C' way='NV12C(11060:11062)' />"
        L"<element type='TR' name='TL NV13C' way='NV13C(11060:11062)' />"
        L"<element type='TR' name='TL IS1C' way='IS1C(11051:11060)' />"
        L"<element type='TR' name='TL IS2C' way='IS2C(11051:11060)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 2' switch='2(11060)' way='2SP(11060)' />"
        L"<element type='PT' name='PT 4' switch='4(11060)' way='4SP(11060)' />"
        L"<element type='PT' name='PT 6' switch='6(11060)' way='6SP(11060)' />"
        L"<element type='PT' name='PT 8' switch='8(11060)' way='8-10SP(11060)' />"
        L"<element type='PT' name='PT 10NA' switch='10(11060)' way='8-10SP(11060)' />"
        L"<element type='PT' name='PT 1' switch='1(11060)' way='1-9SP(11060)' />"
        L"<element type='PT' name='PT 3' switch='3(11060)' way='3SP(11060)' />"
        L"<element type='PT' name='PT 5' switch='5(11060)' way='5-7SP(11060)' />"
        L"<element type='PT' name='PT 7' switch='7(11060)' way='5-7SP(11060)' />"
        L"<element type='PT' name='PT 9' switch='9(11060)' way='1-9SP(11060)' />"
        L"</station>"
        L"<station name_short='SI' name_long='Silava' abonent='127'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS PDP' way='PDP(11051)' />"
        L"<element type='TR' name='TS 1C' way='1C(11051)' />"
        L"<element type='TR' name='TS 5C' way='5C(11051)' />"
        L"<element type='TR' name='TS 3C' way='3C(11051)' />"
        L"<element type='TR' name='TS NDP' way='NDP(11051)' />"
        L"<element type='TR' name='TL IS3C' way='IS3C(11051:11060)' />"
        L"<element type='TR' name='TL IS4C' way='IS4C(11051:11060)' />"
        L"<element type='TR' name='TL SK1C' way='SK1C(11050:11051)' />"
        L"<element type='TR' name='TL SK2C' way='SK2C(11050:11051)' />"
        L"<element type='TR' name='TL SK3C' way='SK3C(11050:11051)' />"
        L"<element type='TR' name='TL SK4C' way='SK4C(11050:11051)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 2' switch='2(11051)' way='2-4SP(11051)' />"
        L"<element type='PT' name='PT 4' switch='4(11051)' way='2-4SP(11051)' />"
        L"<element type='PT' name='PT 1' switch='1(11051)' way='1-3SP(11051)' />"
        L"<element type='PT' name='PT 3' switch='3(11051)' way='1-3SP(11051)' />"
        L"</station>"
        L"<station name_short='KS' name_long='Kraslava' abonent='128'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(11050)' />"
        L"<element type='TR' name='TS 5C' way='5C(11050)' />"
        L"<element type='TR' name='TS 3C' way='3C(11050)' />"
        L"<element type='TR' name='TS 7AC' way='7AC(11050)' />"
        L"<element type='TR' name='TS 7BC' way='7BC(11050)' />"
        L"<element type='TR' name='TS 9C' way='9C(11050)' />"
        L"<element type='TR' name='TS NDP' way='NDP(11050)' />"
        L"<element type='TR' name='TS PDP' way='PDP(11050)' />"
        L"<element type='TR' name='TL SK5C' way='SK5C(11050:11051)' />"
        L"<element type='TR' name='TL SK6C' way='SK6C(11050:11051)' />"
        L"<element type='TR' name='TL SK7C' way='SK7C(11050:11051)' />"
        L"<element type='TR' name='TL SK8C' way='SK8C(11050:11051)' />"
        L"<element type='TR' name='TL SK9C' way='SK9C(11050:11051)' />"
        L"<element type='TR' name='TL SK10C' way='SK10C(11050:11051)' />"
        L"<element type='TR' name='TL KK1C' way='KK1C(11050:11052)' />"
        L"<element type='TR' name='TL KK2C' way='KK2C(11050:11052)' />"
        L"<element type='TR' name='TL KK3C' way='KK3C(11050:11052)' />"
        L"<element type='TR' name='TL KK4C' way='KK4C(11050:11052)' />"
        L"<element type='TR' name='TL KK5C' way='KK5C(11050:11052)' />"
        L"<element type='TR' name='TL KK6C' way='KK6C(11050:11052)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 11' switch='11(11050)' way='11SP(11050)' />"
        L"<element type='PT' name='PT 13' switch='13(11050)' way='13SP(11050)' />"
        L"<element type='PT' name='PT 1' switch='1(11050)' way='1SP(11050)' />"
        L"<element type='PT' name='PT 3' switch='3(11050)' way='3SP(11050)' />"
        L"<element type='PT' name='PT 7' switch='7(11050)' way='5-7SP(11050)' />"
        L"<element type='PT' name='PT 2' switch='2(11050)' way='2-4SP(11050)' />"
        L"<element type='PT' name='PT 6' switch='6(11050)' way='6-18SP(11050)' />"
        L"<element type='PT' name='PT 4' switch='4(11050)' way='2-4SP(11050)' />"
        L"<element type='PT' name='PT 5' switch='5(11050)' way='5-7SP(11050)' />"
        L"<element type='PT' name='PT 9' switch='9(11050)' way='9SP(11050)' />"
        L"<element type='PT' name='PT 8' switch='8(11050)' way='6-18SP(11050)' />"
        L"<element type='PT' name='PT 10' switch='10(11050)' way='10SP(11050)' />"
        L"<element type='PT' name='PT 12' switch='12(11050)' way='12-20SP(11050)' />"
        L"<element type='PT' name='PT 14NA' switch='14(11050)' way='14SP(11050)' />"
        L"<element type='PT' name='PT 18NA' switch='18(11050)' way='6-18SP(11050)' />"
        L"<element type='PT' name='PT 20NA' switch='20(11050)' way='12-20SP(11050)' />"
        L"</station>"
        L"<station name_short='SK' name_long='Skaista' abonent='129'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(11052)' />"
        L"<element type='TR' name='TS 2C' way='2C(11052)' />"
        L"<element type='TR' name='TS 3C' way='3C(11052)' />"
        L"<element type='TR' name='TS NDP' way='NDP(11052)' />"
        L"<element type='TR' name='TS PDP' way='PDP(11052)' />"
        L"<element type='TR' name='TL KK7C' way='KK7C(11050:11052)' />"
        L"<element type='TR' name='TL KK8C' way='KK8C(11050:11052)' />"
        L"<element type='TR' name='TL KK9C' way='KK9C(11050:11052)' />"
        L"<element type='TR' name='TL KK10C' way='KK10C(11050:11052)' />"
        L"<element type='TR' name='TL KK11C' way='KK11C(11050:11052)' />"
        L"<element type='TR' name='TL KK12C' way='KK12C(11050:11052)' />"
        L"<element type='TR' name='TL SN1C' way='SN1C(11041:11052)' />"
        L"<element type='TR' name='TL SN2C' way='SN2C(11041:11052)' />"
        L"<element type='TR' name='TL SN3C' way='SN3C(11041:11052)' />"
        L"<element type='TR' name='TL SN4C' way='SN4C(11041:11052)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(11052)' way='1-3SP(11052)' />"
        L"<element type='PT' name='PT 3' switch='3(11052)' way='1-3SP(11052)' />"
        L"<element type='PT' name='PT 2' switch='2(11052)' way='2-4SP(11052)' />"
        L"<element type='PT' name='PT 4' switch='4(11052)' way='2-4SP(11052)' />"
        L"<element type='PT' name='PT 6' switch='6(11052)' way='6-10SP(11052)' />"
        L"<element type='PT' name='PT 10NA' switch='10(11052)' way='6-10SP(11052)' />"
        L"</station>"
        L"<station name_short='ND' name_long='Niedrica' abonent='130'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C&apos;2(11041)' />"
        L"<element type='TR' name='TS 1AC' way='1AC(11041)' />"
        L"<element type='TR' name='TS 2AC' way='2AC&apos;2(11041)' />"
        L"<element type='TR' name='TS 2C' way='2C(11041)' />"
        L"<element type='TR' name='TS 1UP' way='1UP(11041)' />"
        L"<element type='TR' name='TS 2UP' way='2UP(11041)' />"
        L"<element type='TR' name='TS PDP' way='PDP(11041)' />"
        L"<element type='TR' name='TS NDP' way='NDP(11041)' />"
        L"<element type='TR' name='TL SN5C' way='SN5C(11041:11052)' />"
        L"<element type='TR' name='TL SN6C' way='SN6C(11041:11052)' />"
        L"<element type='TR' name='TL NI1C' way='NI1C(11041:11042)' />"
        L"<element type='TR' name='TL NI2C' way='NI2C(11041:11042)' />"
        L"<element type='TR' name='TL NI3C' way='NI3C(11041:11042)' />"
        L"<element type='TR' name='TL NI4C' way='NI4C(11041:11042)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 1' switch='1(11041)' way='1SP(11041)' />"
        L"<element type='PT' name='PT 2' switch='2(11041)' way='2SP(11041)' />"
        L"</station>"
        L"<station name_short='IN' name_long='Indra' abonent='131'>"
        L"<!--участок-->"
        L"<element type='TR' name='TS 1C' way='1C(11042)' />"
        L"<element type='TR' name='TS 5C' way='5C(11042)' />"
        L"<element type='TR' name='TS 3C' way='3C(11042)' />"
        L"<element type='TR' name='TS 7AC' way='7AC(11042)' />"
        L"<element type='TR' name='TS 7BC' way='7BC(11042)' />"
        L"<element type='TR' name='TS 9C' way='9C(11042)' />"
        L"<element type='TR' name='TS NDP' way='NDP(11042)' />"
        L"<element type='TR' name='TS NPDP' way='NPDP(11042)' />"
        L"<element type='TR' name='TS PDP' way='PDP(11042)' />"
        L"<element type='TR' name='TL 1N1IP' way='1N1IP(11042:16169)' />"
        L"<element type='TR' name='TL 1N2IP' way='1N2IP(11042:16169)' />"
        L"<element type='TR' name='TL 2N1IP' way='2N1IP(11042:16169)' />"
        L"<element type='TR' name='TL 2N2IP' way='2N2IP(11042:16169)' />"
        L"<element type='TR' name='TL NI5C' way='NI5C(11041:11042)' />"
        L"<element type='TR' name='TL NI6C' way='NI6C(11041:11042)' />"
        L"<element type='TR' name='TL NI7C' way='NI7C(11041:11042)' />"
        L"<element type='TR' name='TL NI8C' way='NI8C(11041:11042)' />"
        L"<!--стрелка и стрелочный участок-->"
        L"<element type='PT' name='PT 2' switch='2(11042)' way='2-4SP(11042)' />"
        L"<element type='PT' name='PT 4' switch='4(11042)' way='2-4SP(11042)' />"
        L"<element type='PT' name='PT 6' switch='6(11042)' way='6SP(11042)' />"
        L"<element type='PT' name='PT 8' switch='8(11042)' way='8SP(11042)' />"
        L"<element type='PT' name='PT 1' contrary='PT 9' switch='1(11042)' way='1-9SP1(11042)' />"
        L"<element type='PT' name='PT 3' switch='3(11042)' way='3-7SP(11042)' />"
        L"<element type='PT' name='PT 5' switch='5(11042)' way='3-7SP(11042)' />"
        L"<element type='PT' name='PT 7' switch='7(11042)' way='3-7SP(11042)' />"
        L"<element type='PT' name='PT 9' contrary='PT 1' switch='9(11042)' way='1-9SP9(11042)' />"
        L"<element type='PT' name='PT 11' switch='11(11042)' way='11-13SP(11042)' />"
        L"<element type='PT' name='PT 13' switch='13(11042)' way='11-13SP(11042)' />"
        L"</station>"
        L"</Ebiloc_Map>"
        L"<!--End of File-->"
        )
        );
    CPPUNIT_ASSERT( ebi_res );
    CPPUNIT_ASSERT( ebiObjMap.load_doc( ebi_doc, funcLE ) );
    CPPUNIT_ASSERT( tool.append_1x1( ebiObjMap.getTable1x1(funcLE) ) );
	// пока не загружен atn_doc проверка должна проходить.
	CPPUNIT_ASSERT( tool.convertFromAtn("V2  1C" ) == B("1C[09813]") );
    CPPUNIT_ASSERT( tool.load_node( atn_doc.child("forATN").child("system"), funcLE ) );
    // в atn_doc написан запрет конвертации этого оптика
    CPPUNIT_ASSERT( tool.convertFromAtn("V2  1C" ) == BadgeE() );
    CPPUNIT_ASSERT( !tool.enableDel( B("1C[11420]") ) );
    CPPUNIT_ASSERT( tool.enableDel( B("1C[09813]") ) );
}


void TC_TrainUIC::tearDown()
{
    funcLE = EbiLock::FuncLE();
    ebiObjMap = EbiLock::ObjMap();
    tool = TrainUIC::Tool();
}
